{"Name":"Google Play Games for iOS","Id":3103,"Alias":"googleiosplaygames","Description":"Welcome to iOS game development with Google Play games services!\n\nThe Play Games SDK provides cross-platform Google Play games services that lets you easily integrate popular gaming features such as achievements, leaderboards, and multiplayer to your tablet and mobile games.","Version":"5.1.1.6","Summary":"Find, retain, and match players for your mobile games.","QuickStart":"## Add your game to the Google Play Developer Console\n\nCreate an entry for your game in the Google Play Developer Console.  This enables Google Play games services for your application, and creates an OAuth 2.0 client ID, if you don\u0027t already have one.\n\n1. Add an entry for your iOS game by following the steps described in [Setting Up Google Play Games Services][1].\n2. Take note of your game\u0027s OAuth 2.0 [client ID][2]; you will need this later.\n3. (Optional) Add achievements and leaderboards to your game by following the steps described in [Configuring Achievements and Leaderboards][3].\n4. Add accounts for other members of your team to test your game by following the steps described in [Publishing Your Game Changes][4].\n\n## Add a sign-in and sign-out button\n\nIn your view controller, add a sign-in button and a sign-out button.  Make sure your sign-in button conforms to the [Google+ branding guidelines][5].  To reduce your development effort, many of the built-in user-interfaces provided by Google Play games services already include a sign-out option so you don\u0027t need to add this manually.\n\n```csharp\nusing Google.Play.GameServices;\n...\n\nconst string CLIENT_ID = \"123456789012.apps.googleusercontent.com\";\n\nUIButton signinButton;\nUIButton signoutButton;\n\npublic override void ViewDidLoad ()\n{\n\tbase.ViewDidLoad ();\n\t\n\tsigninButton = new UIButton (new CGRect (93, 99, 125, 44));\n\tsigninButton.SetTitle (\"Sign In\", UIControlState.Normal);\n\tsigninButton.TouchUpInside += delegate {\n\t\tManager.SharedInstance.SignIn (CLIENT_ID, false);\n\t};\n\n\tsignoutButton = new UIButton (new CGRect (93, 299, 125, 44));\n\tsignoutButton.SetTitle (\"Sign Out\", UIControlState.Normal);\n\tsignoutButton.TouchUpInside += delegate {\n\t\tManager.SharedInstance.Signout ();\n\t};\n\t\n\tAdd (signinButton);\n\tAdd (signoutButton);\n\t\n}\n```\n\nWhen a player signs in to Google, the sign-in process sends them to the Google+ app, Chrome for iOS, or Mobile Safari (in that sequence).  After the player signs in, the app opens a URL that points back to your game and contains the information necessary to complete the sign-in process. Make sure your application can handle the URL that redirects back to your game.  Using the options provided in the Google Sign-In SDK, it is possible to selectively enable or disable redirection to Google first-party sign-in apps, Chrome/Safari, or in-app webviews.\n\nYour app must be setup to accept a URL scheme.  You can do this by opening your app\u0027s `Info.plist` file, and navigating to the *Advanced* tab.\n\nIn the *URL Types* section, add two *URL Type*s:\n\n- In one *URL type*, specify a unique string in the Identifier field, and specify your client ID in reversed order in the *URL Schemas* field.  For example, if your client ID for iOS is `CLIENT_ID_CODE.apps.googleusercontent.com`, then specify `com.googleusercontent.apps.CLIENT_ID_CODE` in the *URL Schemas* field.\n- In the other *URL type*, specify a unique string in the Identifier field, and specify your app\u0027s bundle identifier (com.company.appname) in the *URL Schemas* field.\n\nIn your AppDelegate file, add `Google.SignIn` to libraries and override the `OpenUrl` method.  This method handles the URL that your application receives at the end of the authentication process:\n\n```csharp\nusing Google.SignIn;\n...\n\npublic override bool OpenUrl (UIApplication application, NSUrl url, string sourceApplication, NSObject annotation)\n{\n\treturn SignIn.SharedInstance.HandleUrl (url, sourceApplication, annotation);\n}\n```\t\t\n\nIn some class of your app (where signin and singout buttons live for example), set `SignIn.SharedInstance.UIDelegate` property:\n\n```csharp\nSignIn.SharedInstance.UIDelegate = this;\n```  \n\nThe class assigned to `UIDelegate` property must implement the `ISignInUIDelegate` interface.\n\nYou can now test your application and be able to sign in and out.  When testers sign in, they will be redirected to Google+, Chrome, or Safari to complete the sign-in process, and then redirected back to your application.\n\n## Add a GPGStatusDelegate\n\nNext, add the code to let your app know that when sign-in process is completed.\n\nMake a class implements `IStatusDelegate` interface and assign it to `Manager.SharedInstance.StatusDelegate` property.  Also, Implement these `IStatusDelegate` methods: `GamesSignInFinished` (to handle completion of player sign-in) and `GamesSignOutFinished` (to handle completion of player sign-out):\n\n```csharp\npublic override void ViewDidLoad ()\n{\n\tbase.ViewDidLoad ();\n\t\n\tManager.SharedInstance.StatusDelegate = this;\n}\n\n[Export (\"didFinishGamesSignInWithError:\")]\npublic void GamesSignInFinished (NSError error)\n{\n\tif (error != null) \n\t\tConsole.WriteLine (\"ERROR signing in: {0}\", error.LocalizedDescription);\n\telse \n\t\tConsole.WriteLine (\"Finished with games sign in!\");\n\t\n\tRefreshYourUI ();\n}\n\n\n[Export (\"didFinishGamesSignOutWithError:\")]\npublic virtual void GamesSignOutFinished (NSError error)\n{\n\tif (error != null)\n\t\tConsole.WriteLine (\"ERROR signing out: {0}\", error.LocalizedDescription);\n\telse\n\t\tConsole.WriteLine (\"Signed out!\");\n\t\t\n\tRefreshYourUI ();\n}\n```\n\nAfter you sign in or you sign out, refresh your UI to determine what button you should show:\n\n```csharp\t\nvoid RefreshYourUI ()\n{\n\tvar signedIn = Manager.SharedInstance.SignedIn;\n\tsigninButton.Hidden = signedIn;\n\tsignoutButton.Hidden = !signedIn;\n}\n```\n\nNow, when testers finish signing in, the sign-in button will be hidden. When they sign out, the sign-out button will be hidden and the sign-in button should re-appear.\n\n## Automatically sign in returning players\n\nYou can also sign players in automatically, to avoid having them sign in every time they launch your game.  The `Google.Play.GameServices.Manager` will automatically sign the player in when you specify **true** in `Manager.SharedInstance.SignIn` method.  This call succeeds if all the following conditions are met:\n\n- The player has authorized your application in the past;\n- The player has not revoked access to your application; and\n- The app is not requesting new scopes since the player last signed in.\n\nUsing this behavior, you can sign the player in automatically to your game by adding the `Manager.SharedInstance.SignIn` method to the end of your `ViewDidLoad` method, with silently param (second param) set to **true**.\n\n```csharp\nManager.SharedInstance.SignIn (CLIENT_ID, true);\n```\n\nRun your application and notice that, unless you signed out when you last used your application, you are now signed in automatically.\n\n## Add some interface refinements\n\nWhen the application starts player sign-in automatically, there is a small delay between the time sign-in starts and completes.  Your game should disable the UI during this time. To do this, use the fact that the `Manager.SharedInstance.SignIn` method returns **true** if it is attempting to sign the player in automatically.  You could do something like this:\n\n```\nusing Google.Play.GameServices;\n...\n\nconst string CLIENT_ID = \"123456789012.apps.googleusercontent.com\";\n\nUIButton signinButton;\nUIButton signoutButton;\nbool currentlySigningIn;\n\npublic override void ViewDidLoad ()\n{\n\tbase.ViewDidLoad ();\n\t\n\tManager.SharedInstance.StatusDelegate = this;\n\t\n\tsigninButton = new UIButton (new CGRect (93, 99, 125, 44));\n\tsigninButton.SetTitle (\"Sign In\", UIControlState.Normal);\n\tsigninButton.TouchUpInside += delegate {\n\t\tManager.SharedInstance.SignIn (CLIENT_ID, false);\n\t};\n\n\tsignoutButton = new UIButton (new CGRect (93, 299, 125, 44));\n\tsignoutButton.SetTitle (\"Sign Out\", UIControlState.Normal);\n\tsignoutButton.TouchUpInside += delegate {\n\t\tManager.SharedInstance.Signout ();\n\t};\n\t\n\tAdd (signinButton);\n\tAdd (signoutButton);\n\t\n\tcurrentlySigningIn = Manager.SharedInstance.SignIn (CLIENT_ID, true);\n\tRefreshYourUI ();\n}\n\n[Export (\"didFinishGamesSignInWithError:\")]\npublic void GamesSignInFinished (NSError error)\n{\n\tif (error != null) \n\t\tConsole.WriteLine (\"ERROR signing in: {0}\", error.LocalizedDescription);\n\telse \n\t\tConsole.WriteLine (\"Finished with games sign in!\");\n\t\n\tcurrentlySigningIn = false;\n\tRefreshYourUI ();\n}\n\n\n[Export (\"didFinishGamesSignOutWithError:\")]\npublic virtual void GamesSignOutFinished (NSError error)\n{\n\tif (error != null)\n\t\tConsole.WriteLine (\"ERROR signing out: {0}\", error.LocalizedDescription);\n\telse\n\t\tConsole.WriteLine (\"Signed out!\");\n\t\n\tcurrentlySigningIn = false;\n\tRefreshYourUI ();\n}\n\nvoid RefreshYourUI ()\n{\n\tvar signedIn = Manager.SharedInstance.SignedIn;\n\tsigninButton.Hidden = signedIn;\n\tsignoutButton.Hidden = !signedIn;\n\t\n\tsigninButton.Enabled = !currentlySigningIn;\n\tsignoutButton.Enabled = !currentlySigningIn;\n}\n```\n\n## More with Play Games\n\n* [Achievements][6]\n* [Leaderboards][7]\n* [Saved Games][8]\n* [Real-time Multiplayer][9]\n* [Turn-based Multiplayer][10]\n* [Events and Quests][11]\n* [Push Notifications][12]\n\n[1]: https://developers.google.com/games/services/console/enabling\n[2]: https://developers.google.com/games/services/console/enabling#client_id\n[3]: https://developers.google.com/games/services/console/configuring#configuring_achievements_and_leaderboards\n[4]: https://developers.google.com/games/services/console/testpub#enabling_accounts_for_testing\n[5]: https://developers.google.com/+/branding-guidelines\n[6]: https://developers.google.com/games/services/ios/achievements\n[7]: https://developers.google.com/games/services/ios/leaderboards\n[8]: https://developers.google.com/games/services/ios/savedgames\n[9]: https://developers.google.com/games/services/ios/realtimeMultiplayer\n[10]: https://developers.google.com/games/services/ios/turnbasedMultiplayer\n[11]: https://developers.google.com/games/services/ios/quests\n[12]: https://developers.google.com/games/services/ios/notifications","Hash":"08c7b7cf48bb06669221e1a389b0a994","TargetPlatforms":["ios","ios-unified"],"TrialHash":null}